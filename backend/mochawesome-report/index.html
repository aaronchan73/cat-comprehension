<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:17,&quot;tests&quot;:21,&quot;passes&quot;:21,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2024-07-31T05:00:38.795Z&quot;,&quot;end&quot;:&quot;2024-07-31T05:00:38.835Z&quot;,&quot;duration&quot;:40,&quot;testsRegistered&quot;:21,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;7d99ae92-43bc-489f-8657-8af8a3d8fc2f&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;38ba2241-6b22-4bde-b661-d249ad35bb8f&quot;,&quot;title&quot;:&quot;Helper Functions&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs&quot;,&quot;file&quot;:&quot;/test/attemptController.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Helper Functions\&quot;&quot;,&quot;fullTitle&quot;:&quot;Helper Functions \&quot;before each\&quot; hook in \&quot;Helper Functions\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Initial mock database\nmockDb = {\n  attempts: JSON.stringify([\n    {\n      username: \&quot;test\&quot;,\n      success: true,\n      message: \&quot;All tests passed\&quot;,\n      attemptId: 1,\n      questionId: 2,\n      generateCode: \&quot;function sum(a, b) { return a + b; }\&quot;,\n      numPassed: 1,\n    },\n    {\n      username: \&quot;testUser\&quot;,\n      success: false,\n      message: \&quot;Tests failed\&quot;,\n      attemptId: \&quot;1\&quot;,\n      questionId: \&quot;1\&quot;,\n      generateCode:\n        \&quot;function twoSum(nums, target) { return `${nums[1]}, ${nums[0]}`; }\&quot;,\n      numPassed: 0,\n    },\n  ]),\n  questions: JSON.stringify([\n    {\n      id: 1,\n      name: \&quot;Two Sum\&quot;,\n      code: \&quot;from typing import List\\n\\ndef twoSum(nums: List[int], target: int) -&gt; List[int]:\\n    numToIndex = {}\\n    for index, num in enumerate(nums):\\n        complement = target - num\\n        if complement in numToIndex:\\n            return [numToIndex[complement], index]\\n        numToIndex[num] = index\\n    return []\\n\\n# Example usage:\\nnums = [2, 7, 11, 15]\\ntarget = 9\\nresult = twoSum(nums, target)\\nprint(result)  # Output: [0, 1]\\n\&quot;,\n    },\n    {\n      id: 2,\n      name: \&quot;Sum Function\&quot;,\n      code: \&quot;function add(a, b) { return a + b; }\&quot;,\n    },\n  ]),\n  attemptTests: JSON.stringify([\n    {\n      id: 1,\n      testCases: [\n        {\n          input: \&quot;1, 2\&quot;,\n          expectedOutput: \&quot;3\&quot;,\n          successMessage: \&quot;Success\&quot;,\n          errorMessage: \&quot;Fail\&quot;,\n        },\n      ],\n    },\n  ]),\n};\n// Stub fs.readFileSync to return the mock database\nsinon.stub(fs, \&quot;readFileSync\&quot;).callsFake((filePath, encoding) =&gt; {\n  if (encoding === \&quot;utf8\&quot;) {\n    if (filePath.includes(\&quot;Attempts.json\&quot;)) {\n      return mockDb.attempts;\n    }\n    if (filePath.includes(\&quot;Questions.json\&quot;)) {\n      return mockDb.questions;\n    }\n    if (filePath.includes(\&quot;Attempt-Tests.json\&quot;)) {\n      return mockDb.attemptTests;\n    }\n  }\n});\n// Stub fs.writeFileSync to update the mock database\nsinon.stub(fs, \&quot;writeFileSync\&quot;).callsFake((filePath, data) =&gt; {\n  if (filePath.includes(\&quot;Attempts.json\&quot;)) {\n    mockDb.attempts = data;\n  }\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6171b977-e430-4db5-9018-56eb2bf6b96f&quot;,&quot;parentUUID&quot;:&quot;38ba2241-6b22-4bde-b661-d249ad35bb8f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Helper Functions\&quot;&quot;,&quot;fullTitle&quot;:&quot;Helper Functions \&quot;after each\&quot; hook in \&quot;Helper Functions\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;625b8d43-850f-47b9-9394-f7f2b3ca8887&quot;,&quot;parentUUID&quot;:&quot;38ba2241-6b22-4bde-b661-d249ad35bb8f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;abd4305a-786a-4032-a3bc-0b4415761400&quot;,&quot;title&quot;:&quot;readAttemptsJSON&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs&quot;,&quot;file&quot;:&quot;/test/attemptController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should read and parse Attempts.json&quot;,&quot;fullTitle&quot;:&quot;Helper Functions readAttemptsJSON should read and parse Attempts.json&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const result = readAttemptsJSON();\nexpect(result).to.deep.equal(JSON.parse(mockDb.attempts));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;044780a1-6d37-446c-87e3-4ed2c8f42111&quot;,&quot;parentUUID&quot;:&quot;abd4305a-786a-4032-a3bc-0b4415761400&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;044780a1-6d37-446c-87e3-4ed2c8f42111&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f08974d5-3813-44ee-aa24-c929f510a892&quot;,&quot;title&quot;:&quot;readQuestionsJSON&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs&quot;,&quot;file&quot;:&quot;/test/attemptController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should read and parse Questions.json&quot;,&quot;fullTitle&quot;:&quot;Helper Functions readQuestionsJSON should read and parse Questions.json&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const result = readQuestionsJSON();\nexpect(result).to.deep.equal(JSON.parse(mockDb.questions));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a74162b-ab16-4b6d-a93e-84cfa7c1eead&quot;,&quot;parentUUID&quot;:&quot;f08974d5-3813-44ee-aa24-c929f510a892&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5a74162b-ab16-4b6d-a93e-84cfa7c1eead&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;eb82a86d-d895-4e50-9a1c-e25a2e63eb1c&quot;,&quot;title&quot;:&quot;updateAttemptsJSON&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs&quot;,&quot;file&quot;:&quot;/test/attemptController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should write data to Attempts.json&quot;,&quot;fullTitle&quot;:&quot;Helper Functions updateAttemptsJSON should write data to Attempts.json&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fakeData = [{ id: 1 }];\nupdateAttemptsJSON(fakeData);\nexpect(mockDb.attempts).to.equal(JSON.stringify(fakeData, null, 2));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5e9b9a42-3f81-4dd2-b833-6e5add6915dc&quot;,&quot;parentUUID&quot;:&quot;eb82a86d-d895-4e50-9a1c-e25a2e63eb1c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5e9b9a42-3f81-4dd2-b833-6e5add6915dc&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;64ab3e5d-0df9-4f7d-8ee3-669780cb92c2&quot;,&quot;title&quot;:&quot;parseCode&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs&quot;,&quot;file&quot;:&quot;/test/attemptController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an empty string if no code is found&quot;,&quot;fullTitle&quot;:&quot;Helper Functions parseCode should return an empty string if no code is found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = \&quot;No code here\&quot;;\nconst result = parseCode(response);\nexpect(result).to.equal(\&quot;\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f4dd1c57-5e93-4c97-b56b-3b7d5baa5bf2&quot;,&quot;parentUUID&quot;:&quot;64ab3e5d-0df9-4f7d-8ee3-669780cb92c2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f4dd1c57-5e93-4c97-b56b-3b7d5baa5bf2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;eeb85399-6d39-4156-a6b2-f0ed8d4bffab&quot;,&quot;title&quot;:&quot;generateCode&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs&quot;,&quot;file&quot;:&quot;/test/attemptController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should generate code based on the description and question&quot;,&quot;fullTitle&quot;:&quot;Helper Functions generateCode should generate code based on the description and question&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fetchStub = sinon.stub(global, \&quot;fetch\&quot;).resolves({\n  ok: true,\n  json: async () =&gt; ({ response: \&quot;generatedCode\&quot; }),\n});\nconst result = await generateCode(\&quot;description\&quot;, \&quot;question\&quot;);\nexpect(result).to.equal(\&quot;generatedCode\&quot;);\nfetchStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3aa95be-5004-4a40-af2c-0309c100a61a&quot;,&quot;parentUUID&quot;:&quot;eeb85399-6d39-4156-a6b2-f0ed8d4bffab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw an error if the response is not ok&quot;,&quot;fullTitle&quot;:&quot;Helper Functions generateCode should throw an error if the response is not ok&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fetchStub = sinon.stub(global, \&quot;fetch\&quot;).resolves({\n  ok: false,\n  status: 500,\n});\nlet error;\ntry {\n  await generateCode(\&quot;description\&quot;, \&quot;question\&quot;);\n} catch (err) {\n  error = err;\n}\nexpect(error).to.be.an(\&quot;error\&quot;);\nfetchStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bbfdbeb8-e063-4f8c-b818-ce705d10e60f&quot;,&quot;parentUUID&quot;:&quot;eeb85399-6d39-4156-a6b2-f0ed8d4bffab&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d3aa95be-5004-4a40-af2c-0309c100a61a&quot;,&quot;bbfdbeb8-e063-4f8c-b818-ce705d10e60f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a36773b4-d5b0-4fea-bf50-7375f7ef7739&quot;,&quot;title&quot;:&quot;readAttemptTestsJSON&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs&quot;,&quot;file&quot;:&quot;/test/attemptController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should read and parse Attempt-Tests.json&quot;,&quot;fullTitle&quot;:&quot;Helper Functions readAttemptTestsJSON should read and parse Attempt-Tests.json&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const result = readAttemptTestsJSON();\nexpect(result).to.deep.equal(JSON.parse(mockDb.attemptTests));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;586194f2-0e3b-46f1-85c3-bc79db1123b2&quot;,&quot;parentUUID&quot;:&quot;a36773b4-d5b0-4fea-bf50-7375f7ef7739&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;586194f2-0e3b-46f1-85c3-bc79db1123b2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a42c88b1-7ccc-4cf6-acb6-27a6863e289e&quot;,&quot;title&quot;:&quot;testAttempt&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs&quot;,&quot;file&quot;:&quot;/test/attemptController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should test user code against test cases&quot;,&quot;fullTitle&quot;:&quot;Helper Functions testAttempt should test user code against test cases&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const userCode = \&quot;function add(a, b) { return a + b; }\&quot;;\nconst testCases = [\n  {\n    input: \&quot;1, 2\&quot;,\n    expectedOutput: \&quot;3\&quot;,\n    successMessage: \&quot;Success\&quot;,\n    errorMessage: \&quot;Fail\&quot;,\n  },\n];\nconst result = testAttempt(userCode, testCases);\nexpect(result).to.deep.equal([\n  {\n    input: \&quot;1, 2\&quot;,\n    expectedOutput: \&quot;3\&quot;,\n    actualOutput: 3,\n    message: \&quot;Success\&quot;,\n    passed: true,\n    test: undefined\n  },\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bea2ed6e-4175-4c65-a2ce-04f3cd9271bf&quot;,&quot;parentUUID&quot;:&quot;a42c88b1-7ccc-4cf6-acb6-27a6863e289e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should handle errors in user code&quot;,&quot;fullTitle&quot;:&quot;Helper Functions testAttempt should handle errors in user code&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const userCode = &#x27;function add(a, b) { throw new Error(\&quot;error\&quot;); }&#x27;;\nconst testCases = [\n  {\n    input: \&quot;1, 2\&quot;,\n    expectedOutput: \&quot;3\&quot;,\n    successMessage: \&quot;Success\&quot;,\n    errorMessage: \&quot;Fail\&quot;,\n  },\n];\nconst result = testAttempt(userCode, testCases);\nexpect(result).to.deep.equal([\n  {\n    input: \&quot;1, 2\&quot;,\n    expectedOutput: \&quot;3\&quot;,\n    actualOutput: \&quot;error\&quot;,\n    message: \&quot;Fail\&quot;,\n    passed: false,\n    test: undefined\n  },\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;305153df-a1a4-464c-b495-fe179e458d1f&quot;,&quot;parentUUID&quot;:&quot;a42c88b1-7ccc-4cf6-acb6-27a6863e289e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bea2ed6e-4175-4c65-a2ce-04f3cd9271bf&quot;,&quot;305153df-a1a4-464c-b495-fe179e458d1f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;10592e6b-6e03-4e1f-af8b-412717911945&quot;,&quot;title&quot;:&quot;Controller Functions&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs&quot;,&quot;file&quot;:&quot;/test/attemptController.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Controller Functions\&quot;&quot;,&quot;fullTitle&quot;:&quot;Controller Functions \&quot;before each\&quot; hook in \&quot;Controller Functions\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Initial mock database\nmockDb = {\n  attempts: JSON.stringify([\n    {\n      username: \&quot;test\&quot;,\n      success: true,\n      message: \&quot;All tests passed\&quot;,\n      attemptId: 1,\n      questionId: 2,\n      generateCode: \&quot;function sum(a, b) { return a + b; }\&quot;,\n      numPassed: 1,\n    },\n    {\n      username: \&quot;testUser\&quot;,\n      success: false,\n      message: \&quot;Tests failed\&quot;,\n      attemptId: \&quot;1\&quot;,\n      questionId: \&quot;1\&quot;,\n      generateCode:\n        \&quot;function twoSum(nums, target) { return `${nums[1]}, ${nums[0]}`; }\&quot;,\n      numPassed: 0,\n    },\n  ]),\n  questions: JSON.stringify([\n    {\n      id: 1,\n      name: \&quot;Two Sum\&quot;,\n      code: \&quot;from typing import List\\n\\ndef twoSum(nums: List[int], target: int) -&gt; List[int]:\\n    numToIndex = {}\\n    for index, num in enumerate(nums):\\n        complement = target - num\\n        if complement in numToIndex:\\n            return [numToIndex[complement], index]\\n        numToIndex[num] = index\\n    return []\\n\\n# Example usage:\\nnums = [2, 7, 11, 15]\\ntarget = 9\\nresult = twoSum(nums, target)\\nprint(result)  # Output: [0, 1]\\n\&quot;,\n    },\n    {\n      id: 2,\n      name: \&quot;Sum Function\&quot;,\n      code: \&quot;function add(a, b) { return a + b; }\&quot;,\n    },\n  ]),\n  attemptTests: JSON.stringify([\n    {\n      id: 1,\n      testCases: [\n        {\n          input: \&quot;1, 2\&quot;,\n          expectedOutput: \&quot;3\&quot;,\n          successMessage: \&quot;Success\&quot;,\n          errorMessage: \&quot;Fail\&quot;,\n        },\n      ],\n    },\n  ]),\n};\n// Stub fs.readFileSync to return the mock database\nsinon.stub(fs, \&quot;readFileSync\&quot;).callsFake((filePath, encoding) =&gt; {\n  if (encoding === \&quot;utf8\&quot;) {\n    if (filePath.includes(\&quot;Attempts.json\&quot;)) {\n      return mockDb.attempts;\n    }\n    if (filePath.includes(\&quot;Questions.json\&quot;)) {\n      return mockDb.questions;\n    }\n    if (filePath.includes(\&quot;Attempt-Tests.json\&quot;)) {\n      return mockDb.attemptTests;\n    }\n  }\n});\n// Stub fs.writeFileSync to update the mock database\nsinon.stub(fs, \&quot;writeFileSync\&quot;).callsFake((filePath, data) =&gt; {\n  if (filePath.includes(\&quot;Attempts.json\&quot;)) {\n    mockDb.attempts = data;\n  }\n});\nreq = {\n  body: {},\n  params: {},\n};\nres = {\n  status: sinon.stub().returnsThis(),\n  json: sinon.stub(),\n};&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;256906b1-0675-4b7c-9969-c7418b6d9cc7&quot;,&quot;parentUUID&quot;:&quot;10592e6b-6e03-4e1f-af8b-412717911945&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Controller Functions\&quot;&quot;,&quot;fullTitle&quot;:&quot;Controller Functions \&quot;after each\&quot; hook in \&quot;Controller Functions\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1bfbe8c9-bbaf-4bae-8ca4-b6d65a716a2a&quot;,&quot;parentUUID&quot;:&quot;10592e6b-6e03-4e1f-af8b-412717911945&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3666f179-dafe-4678-b60d-9af6f5f90bda&quot;,&quot;title&quot;:&quot;GetAttemptsByUsername&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs&quot;,&quot;file&quot;:&quot;/test/attemptController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return attempts for the given username&quot;,&quot;fullTitle&quot;:&quot;Controller Functions GetAttemptsByUsername should return attempts for the given username&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;req.params.username = \&quot;testUser\&quot;;\nGetAttemptsByUsername(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(\n  res.json.calledWith(\n    sinon.match({\n      message: \&quot;Attempt retrieved successfully\&quot;,\n      userAttempts: sinon.match.array,\n    })\n  )\n).to.be.true;\nexpect(res.json.args[0][0].userAttempts).to.deep.include({\n  username: \&quot;testUser\&quot;,\n  success: false,\n  message: \&quot;Tests failed\&quot;,\n  attemptId: \&quot;1\&quot;,\n  questionId: \&quot;1\&quot;,\n  generateCode:\n    \&quot;function twoSum(nums, target) { return `${nums[1]}, ${nums[0]}`; }\&quot;,\n  numPassed: 0,\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12a49cf4-817f-4384-99c4-d931674c9139&quot;,&quot;parentUUID&quot;:&quot;3666f179-dafe-4678-b60d-9af6f5f90bda&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return an error if no attempts found for the given username&quot;,&quot;fullTitle&quot;:&quot;Controller Functions GetAttemptsByUsername should return an error if no attempts found for the given username&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;req.params.username = \&quot;nonexistentuser\&quot;;\nGetAttemptsByUsername(req, res);\nexpect(res.status.calledWith(400)).to.be.true;\nexpect(res.json.calledWith({ message: \&quot;Attempt not found\&quot; })).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;51844c43-783a-4a30-a612-34715a93f7b1&quot;,&quot;parentUUID&quot;:&quot;3666f179-dafe-4678-b60d-9af6f5f90bda&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;12a49cf4-817f-4384-99c4-d931674c9139&quot;,&quot;51844c43-783a-4a30-a612-34715a93f7b1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d6350fda-4313-4481-a9b8-9084db259287&quot;,&quot;title&quot;:&quot;AddAttempt&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs&quot;,&quot;file&quot;:&quot;/test/attemptController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an error if description is missing&quot;,&quot;fullTitle&quot;:&quot;Controller Functions AddAttempt should return an error if description is missing&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;req.body = {\n  username: \&quot;newuser\&quot;,\n  questionId: 1,\n};\nreq.params.attemptId = 2;\nawait AddAttempt(req, res);\nexpect(res.status.calledWith(400)).to.be.true;\nexpect(res.json.calledWith({ message: \&quot;Description is required\&quot; })).to.be\n  .true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9dbaad33-211a-4039-b6f2-741161900e78&quot;,&quot;parentUUID&quot;:&quot;d6350fda-4313-4481-a9b8-9084db259287&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9dbaad33-211a-4039-b6f2-741161900e78&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cdd853b3-c876-45e8-a784-b3aead04ad02&quot;,&quot;title&quot;:&quot;Question Controller&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/questionController.test.mjs&quot;,&quot;file&quot;:&quot;/test/questionController.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Question Controller\&quot;&quot;,&quot;fullTitle&quot;:&quot;Question Controller \&quot;before each\&quot; hook in \&quot;Question Controller\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Initial mock database\nmockDb = {\n    questions: JSON.stringify([\n        {\n            \&quot;id\&quot;: 1,\n            \&quot;code\&quot;: \&quot;function add(a, b) { return a + b; }\&quot;\n        },\n        {\n            \&quot;id\&quot;: 2,\n            \&quot;code\&quot;: \&quot;function subtract(a, b) { return a - b; }\&quot;\n        }\n    ])\n};\n// Stub fs.readFileSync to return mock database\nsinon.stub(fs, &#x27;readFileSync&#x27;).callsFake((filePath, encoding) =&gt; {\n    if (encoding === &#x27;utf8&#x27;) {\n        if (filePath.includes(&#x27;Questions.json&#x27;)) {\n            return mockDb.questions;\n        }\n    }\n    return undefined;\n});\nreq = {\n    params: {}\n};\nres = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a962e94d-d222-4477-9849-2296ab8b572e&quot;,&quot;parentUUID&quot;:&quot;cdd853b3-c876-45e8-a784-b3aead04ad02&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Question Controller\&quot;&quot;,&quot;fullTitle&quot;:&quot;Question Controller \&quot;after each\&quot; hook in \&quot;Question Controller\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36d25f6f-2c51-4c0c-be5e-4ff26297434a&quot;,&quot;parentUUID&quot;:&quot;cdd853b3-c876-45e8-a784-b3aead04ad02&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;7905a485-8422-4b97-93c1-4db313197ec9&quot;,&quot;title&quot;:&quot;GetQuestions&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/questionController.test.mjs&quot;,&quot;file&quot;:&quot;/test/questionController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return all available questions&quot;,&quot;fullTitle&quot;:&quot;Question Controller GetQuestions should return all available questions&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;GetQuestions(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith(sinon.match({\n    message: &#x27;Questions retrieved successfully&#x27;,\n    questions: sinon.match.array\n}))).to.be.true;\nexpect(res.json.args[0][0].questions).to.deep.equal(JSON.parse(mockDb.questions));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;afc83ac0-8809-4e21-9691-a438d4dcedfe&quot;,&quot;parentUUID&quot;:&quot;7905a485-8422-4b97-93c1-4db313197ec9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;afc83ac0-8809-4e21-9691-a438d4dcedfe&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;098221a6-d0d5-4ac8-8fe0-9afa1eb57b8f&quot;,&quot;title&quot;:&quot;GetQuestionsById&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/questionController.test.mjs&quot;,&quot;file&quot;:&quot;/test/questionController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a specific question by ID&quot;,&quot;fullTitle&quot;:&quot;Question Controller GetQuestionsById should return a specific question by ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;req.params.id = 1;\nGetQuestionsById(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith(sinon.match({\n    message: &#x27;Question retrieved successfully&#x27;,\n    question: sinon.match.object\n}))).to.be.true;\nconst expectedQuestion = {\n    \&quot;id\&quot;: 1,\n    \&quot;code\&quot;: \&quot;function add(a, b) { return a + b; }\&quot;\n};\nexpect(res.json.args[0][0].question).to.deep.equal(expectedQuestion);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;875a8b1a-c350-4b9c-8e6a-8c9fd184d26a&quot;,&quot;parentUUID&quot;:&quot;098221a6-d0d5-4ac8-8fe0-9afa1eb57b8f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return an error if question ID is not found&quot;,&quot;fullTitle&quot;:&quot;Question Controller GetQuestionsById should return an error if question ID is not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;req.params.id = 3;\nGetQuestionsById(req, res);\nexpect(res.status.calledWith(400)).to.be.true;\nexpect(res.json.calledWith({ message: &#x27;Question not found&#x27; })).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aaf9a408-11bb-4116-a7ca-82915e55ef72&quot;,&quot;parentUUID&quot;:&quot;098221a6-d0d5-4ac8-8fe0-9afa1eb57b8f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return an error if question ID is not a valid number&quot;,&quot;fullTitle&quot;:&quot;Question Controller GetQuestionsById should return an error if question ID is not a valid number&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;req.params.id = &#x27;invalid&#x27;;\nGetQuestionsById(req, res);\nexpect(res.status.calledWith(400)).to.be.true;\nexpect(res.json.calledWith({ message: &#x27;Question not found&#x27; })).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;98bb0f74-f99b-4ba6-833a-e03733be45ef&quot;,&quot;parentUUID&quot;:&quot;098221a6-d0d5-4ac8-8fe0-9afa1eb57b8f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;875a8b1a-c350-4b9c-8e6a-8c9fd184d26a&quot;,&quot;aaf9a408-11bb-4116-a7ca-82915e55ef72&quot;,&quot;98bb0f74-f99b-4ba6-833a-e03733be45ef&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;201e5f41-6492-49de-8263-723fa11e0ff9&quot;,&quot;title&quot;:&quot;userController tests&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/userController.test.mjs&quot;,&quot;file&quot;:&quot;/test/userController.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;userController tests\&quot;&quot;,&quot;fullTitle&quot;:&quot;userController tests \&quot;before each\&quot; hook in \&quot;userController tests\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Initialize mock database\nmockDb = [\n  { username: &#x27;gloria&#x27;, studentId: 123 },\n  { username: &#x27;tim&#x27;, studentId: 456 }\n];\n// Stub fs.readFileSync to return the mock database\nsinon.stub(fs, &#x27;readFileSync&#x27;).callsFake((filePath, encoding) =&gt; {\n  if (encoding === &#x27;utf8&#x27;) {\n    return JSON.stringify(mockDb);\n  }\n});\n// Stub fs.writeFileSync to update the mock database\nsinon.stub(fs, &#x27;writeFileSync&#x27;).callsFake((filePath, data) =&gt; {\n  mockDb = JSON.parse(data);\n});\nreq = {\n  body: {}\n};\nres = {\n  status: sinon.stub().returnsThis(),\n  json: sinon.stub()\n};&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;068d1397-8bb6-426d-b78e-3bf9c2390579&quot;,&quot;parentUUID&quot;:&quot;201e5f41-6492-49de-8263-723fa11e0ff9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;userController tests\&quot;&quot;,&quot;fullTitle&quot;:&quot;userController tests \&quot;after each\&quot; hook in \&quot;userController tests\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9dfa8bb6-543b-4970-9592-8d1554a868a0&quot;,&quot;parentUUID&quot;:&quot;201e5f41-6492-49de-8263-723fa11e0ff9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;af854373-0d27-4710-a191-d4d0d288c6d5&quot;,&quot;title&quot;:&quot;AddStudent&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/userController.test.mjs&quot;,&quot;file&quot;:&quot;/test/userController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;successfully adds a new student&quot;,&quot;fullTitle&quot;:&quot;userController tests AddStudent successfully adds a new student&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Successful case \n     req.body = {\n       username: &#x27;newname&#x27;,\n       studentId: &#x27;789&#x27;\n     };\n     userController.AddStudent(req, res);\n     expect(res.status.calledWith(200)).to.be.true;\n     expect(res.json.calledWith(sinon.match({\n       message: &#x27;User added successfully&#x27;,\n       user: { username: &#x27;newname&#x27;, studentId: &#x27;789&#x27; }\n     }))).to.be.true;\n     expect(mockDb).to.deep.include({ username: &#x27;newname&#x27;, studentId: &#x27;789&#x27; });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1e05234b-5980-46b1-9e22-dadda8fa268a&quot;,&quot;parentUUID&quot;:&quot;af854373-0d27-4710-a191-d4d0d288c6d5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns error if username or studentId is missing&quot;,&quot;fullTitle&quot;:&quot;userController tests AddStudent returns error if username or studentId is missing&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// missing username or student ID, should fail \n     req.body = { username: &#x27;missingId&#x27; };\n     userController.AddStudent(req, res);\n     expect(res.status.calledWith(400)).to.be.true;\n     expect(res.json.calledWith({ message: &#x27;Username or student ID is required&#x27; })).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5ce4d2c-9de6-460d-88b2-5e8509319201&quot;,&quot;parentUUID&quot;:&quot;af854373-0d27-4710-a191-d4d0d288c6d5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns error if username or studentId already exists&quot;,&quot;fullTitle&quot;:&quot;userController tests AddStudent returns error if username or studentId already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// username or student ID already exists, should fail \n     req.body = {\n       username: &#x27;gloria&#x27;,\n       studentId: 123\n     };\n     userController.AddStudent(req, res);\n     expect(res.status.calledWith(400)).to.be.true;\n     expect(res.json.calledWith({ message: &#x27;Username or student ID already exists&#x27; })).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec39fa64-1239-4fd0-a924-dc6a0db55b58&quot;,&quot;parentUUID&quot;:&quot;af854373-0d27-4710-a191-d4d0d288c6d5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1e05234b-5980-46b1-9e22-dadda8fa268a&quot;,&quot;b5ce4d2c-9de6-460d-88b2-5e8509319201&quot;,&quot;ec39fa64-1239-4fd0-a924-dc6a0db55b58&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9cfcadf3-169f-423f-98c5-5cd5e88dd570&quot;,&quot;title&quot;:&quot;GetStudents&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/userController.test.mjs&quot;,&quot;file&quot;:&quot;/test/userController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns all registered students&quot;,&quot;fullTitle&quot;:&quot;userController tests GetStudents returns all registered students&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Successful case \n     userController.GetStudents(req, res);\n     expect(res.status.calledWith(200)).to.be.true;\n     expect(res.json.calledWith(sinon.match({\n       message: &#x27;Users retrieved successfully&#x27;,\n       users: mockDb\n     }))).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7868496a-85a4-4be7-8bbc-62914c62ed11&quot;,&quot;parentUUID&quot;:&quot;9cfcadf3-169f-423f-98c5-5cd5e88dd570&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns an empty array if no users are present&quot;,&quot;fullTitle&quot;:&quot;userController tests GetStudents returns an empty array if no users are present&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// no students to retrieve, should return empty array \n     mockDb = []; \n     userController.GetStudents(req, res);\n     expect(res.status.calledWith(200)).to.be.true;\n     expect(res.json.calledWith(sinon.match({\n       message: &#x27;Users retrieved successfully&#x27;,\n       users: []\n     }))).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;63c5ec4e-c5e2-4114-80f0-82d810a473d9&quot;,&quot;parentUUID&quot;:&quot;9cfcadf3-169f-423f-98c5-5cd5e88dd570&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7868496a-85a4-4be7-8bbc-62914c62ed11&quot;,&quot;63c5ec4e-c5e2-4114-80f0-82d810a473d9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.7.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;index&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportFilename&quot;:&quot;index&quot;},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;index&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;backend&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/mochawesome-report/index.json&quot;,&quot;htmlFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/mochawesome-report/index.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>