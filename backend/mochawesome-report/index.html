<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:10,&quot;tests&quot;:9,&quot;passes&quot;:9,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2024-07-31T04:42:02.935Z&quot;,&quot;end&quot;:&quot;2024-07-31T04:42:02.959Z&quot;,&quot;duration&quot;:24,&quot;testsRegistered&quot;:21,&quot;passPercent&quot;:42.857142857142854,&quot;pendingPercent&quot;:0,&quot;other&quot;:4,&quot;hasOther&quot;:true,&quot;skipped&quot;:12,&quot;hasSkipped&quot;:true},&quot;results&quot;:[{&quot;uuid&quot;:&quot;6cee0e95-9a99-4d0f-bc90-77029366d73b&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3b4ad3ac-220e-442b-872b-850ecf27c183&quot;,&quot;title&quot;:&quot;Helper Functions&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs&quot;,&quot;file&quot;:&quot;/test/attemptController.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook for \&quot;should read and parse Attempts.json\&quot;&quot;,&quot;fullTitle&quot;:&quot;Helper Functions \&quot;before each\&quot; hook for \&quot;should read and parse Attempts.json\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Initial mock database\nmockDb = {\n  attempts: JSON.stringify([\n    {\n      username: \&quot;test\&quot;,\n      success: true,\n      message: \&quot;All tests passed\&quot;,\n      attemptId: 1,\n      questionId: 2,\n      generateCode: \&quot;function sum(a, b) { return a + b; }\&quot;,\n      numPassed: 1,\n    },\n    {\n      username: \&quot;testUser\&quot;,\n      success: false,\n      message: \&quot;Tests failed\&quot;,\n      attemptId: \&quot;1\&quot;,\n      questionId: \&quot;1\&quot;,\n      generateCode:\n        \&quot;function twoSum(nums, target) { return `${nums[1]}, ${nums[0]}`; }\&quot;,\n      numPassed: 0,\n    },\n  ]),\n  questions: JSON.stringify([\n    {\n      id: 1,\n      name: \&quot;Two Sum\&quot;,\n      code: \&quot;from typing import List\\n\\ndef twoSum(nums: List[int], target: int) -&gt; List[int]:\\n    numToIndex = {}\\n    for index, num in enumerate(nums):\\n        complement = target - num\\n        if complement in numToIndex:\\n            return [numToIndex[complement], index]\\n        numToIndex[num] = index\\n    return []\\n\\n# Example usage:\\nnums = [2, 7, 11, 15]\\ntarget = 9\\nresult = twoSum(nums, target)\\nprint(result)  # Output: [0, 1]\\n\&quot;,\n    },\n    {\n      id: 2,\n      name: \&quot;Sum Function\&quot;,\n      code: \&quot;function add(a, b) { return a + b; }\&quot;,\n    },\n  ]),\n  attemptTests: JSON.stringify([\n    {\n      id: 1,\n      testCases: [\n        {\n          input: \&quot;1, 2\&quot;,\n          expectedOutput: \&quot;3\&quot;,\n          successMessage: \&quot;Success\&quot;,\n          errorMessage: \&quot;Fail\&quot;,\n        },\n      ],\n    },\n  ]),\n};\n// Stub fs.readFileSync to return the mock database\nsinon.stub(fs, \&quot;readFileSync\&quot;).callsFake((filePath, encoding) =&gt; {\n  if (encoding === \&quot;utf8\&quot;) {\n    if (filePath.includes(\&quot;Attempts.json\&quot;)) {\n      return mockDb.attempts;\n    }\n    if (filePath.includes(\&quot;Questions.json\&quot;)) {\n      return mockDb.questions;\n    }\n    if (filePath.includes(\&quot;Attempt-Tests.json\&quot;)) {\n      return mockDb.attemptTests;\n    }\n  }\n});\n// Stub fs.writeFileSync to update the mock database\nsinon.stub(fs, \&quot;writeFileSync\&quot;).callsFake((filePath, data) =&gt; {\n  if (filePath.includes(\&quot;Attempts.json\&quot;)) {\n    mockDb.attempts = data;\n  }\n});&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;ReferenceError: sinon is not defined&quot;,&quot;estack&quot;:&quot;ReferenceError: sinon is not defined\n    at Context.&lt;anonymous&gt; (file:///Users/timothyfang/Documents/Computer%20Science%20Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs:73:5)\n    at process.processImmediate (node:internal/timers:483:21)&quot;},&quot;uuid&quot;:&quot;515ad791-8456-4412-ac83-c73e3155e6f2&quot;,&quot;parentUUID&quot;:&quot;3b4ad3ac-220e-442b-872b-850ecf27c183&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook for \&quot;should read and parse Attempts.json\&quot;&quot;,&quot;fullTitle&quot;:&quot;Helper Functions \&quot;after each\&quot; hook for \&quot;should read and parse Attempts.json\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;ReferenceError: sinon is not defined&quot;,&quot;estack&quot;:&quot;ReferenceError: sinon is not defined\n    at Context.&lt;anonymous&gt; (file:///Users/timothyfang/Documents/Computer%20Science%20Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs:96:5)\n    at process.processImmediate (node:internal/timers:483:21)&quot;},&quot;uuid&quot;:&quot;2547928f-f9a4-46c3-90ec-14253431751b&quot;,&quot;parentUUID&quot;:&quot;3b4ad3ac-220e-442b-872b-850ecf27c183&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e9894c5b-0466-4756-b99d-0f26f5e092fd&quot;,&quot;title&quot;:&quot;readAttemptsJSON&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs&quot;,&quot;file&quot;:&quot;/test/attemptController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should read and parse Attempts.json&quot;,&quot;fullTitle&quot;:&quot;Helper Functions readAttemptsJSON should read and parse Attempts.json&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const result = readAttemptsJSON();\nexpect(result).to.deep.equal(JSON.parse(mockDb.attempts));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dee37cc9-463c-4173-a830-9e7719b825fd&quot;,&quot;parentUUID&quot;:&quot;e9894c5b-0466-4756-b99d-0f26f5e092fd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;dee37cc9-463c-4173-a830-9e7719b825fd&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f83e4096-ede3-4448-920d-3fe98fc61104&quot;,&quot;title&quot;:&quot;readQuestionsJSON&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs&quot;,&quot;file&quot;:&quot;/test/attemptController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should read and parse Questions.json&quot;,&quot;fullTitle&quot;:&quot;Helper Functions readQuestionsJSON should read and parse Questions.json&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const result = readQuestionsJSON();\nexpect(result).to.deep.equal(JSON.parse(mockDb.questions));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5c4cb06c-ceb9-4433-8ddf-36420b60eaa3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;5c4cb06c-ceb9-4433-8ddf-36420b60eaa3&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;98ac8f09-0bea-4f2d-9a36-55e8050abe23&quot;,&quot;title&quot;:&quot;updateAttemptsJSON&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs&quot;,&quot;file&quot;:&quot;/test/attemptController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should write data to Attempts.json&quot;,&quot;fullTitle&quot;:&quot;Helper Functions updateAttemptsJSON should write data to Attempts.json&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fakeData = [{ id: 1 }];\nupdateAttemptsJSON(fakeData);\nexpect(mockDb.attempts).to.equal(JSON.stringify(fakeData, null, 2));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8f679ce-2375-4251-817f-8ee375dd9411&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;d8f679ce-2375-4251-817f-8ee375dd9411&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;348df628-2f96-4ae4-b128-829facc067d6&quot;,&quot;title&quot;:&quot;parseCode&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs&quot;,&quot;file&quot;:&quot;/test/attemptController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an empty string if no code is found&quot;,&quot;fullTitle&quot;:&quot;Helper Functions parseCode should return an empty string if no code is found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = \&quot;No code here\&quot;;\nconst result = parseCode(response);\nexpect(result).to.equal(\&quot;\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ffa0b321-12c7-4a35-b501-f70766269f29&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;ffa0b321-12c7-4a35-b501-f70766269f29&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a51ac0ea-f529-43dc-b67e-8379acfe3aab&quot;,&quot;title&quot;:&quot;generateCode&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs&quot;,&quot;file&quot;:&quot;/test/attemptController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should generate code based on the description and question&quot;,&quot;fullTitle&quot;:&quot;Helper Functions generateCode should generate code based on the description and question&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fetchStub = sinon.stub(global, \&quot;fetch\&quot;).resolves({\n  ok: true,\n  json: async () =&gt; ({ response: \&quot;generatedCode\&quot; }),\n});\nconst result = await generateCode(\&quot;description\&quot;, \&quot;question\&quot;);\nexpect(result).to.equal(\&quot;generatedCode\&quot;);\nfetchStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;caf15ab3-6f1f-4fe7-81b2-335af2f40641&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should throw an error if the response is not ok&quot;,&quot;fullTitle&quot;:&quot;Helper Functions generateCode should throw an error if the response is not ok&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fetchStub = sinon.stub(global, \&quot;fetch\&quot;).resolves({\n  ok: false,\n  status: 500,\n});\nlet error;\ntry {\n  await generateCode(\&quot;description\&quot;, \&quot;question\&quot;);\n} catch (err) {\n  error = err;\n}\nexpect(error).to.be.an(\&quot;error\&quot;);\nfetchStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ffaef3d-04bb-454a-ba5d-9a533f251604&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;caf15ab3-6f1f-4fe7-81b2-335af2f40641&quot;,&quot;0ffaef3d-04bb-454a-ba5d-9a533f251604&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;83a99812-2612-4de8-9cf2-7c11a3d5a53d&quot;,&quot;title&quot;:&quot;readAttemptTestsJSON&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs&quot;,&quot;file&quot;:&quot;/test/attemptController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should read and parse Attempt-Tests.json&quot;,&quot;fullTitle&quot;:&quot;Helper Functions readAttemptTestsJSON should read and parse Attempt-Tests.json&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const result = readAttemptTestsJSON();\nexpect(result).to.deep.equal(JSON.parse(mockDb.attemptTests));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;05de5c71-8e2c-4438-b75c-c25fc59b459d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;05de5c71-8e2c-4438-b75c-c25fc59b459d&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e0b86513-7cfe-4d2b-b21d-2a2c08261000&quot;,&quot;title&quot;:&quot;testAttempt&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs&quot;,&quot;file&quot;:&quot;/test/attemptController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should test user code against test cases&quot;,&quot;fullTitle&quot;:&quot;Helper Functions testAttempt should test user code against test cases&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const userCode = \&quot;function add(a, b) { return a + b; }\&quot;;\nconst testCases = [\n  {\n    input: \&quot;1, 2\&quot;,\n    expectedOutput: \&quot;3\&quot;,\n    successMessage: \&quot;Success\&quot;,\n    errorMessage: \&quot;Fail\&quot;,\n  },\n];\nconst result = testAttempt(userCode, testCases);\nexpect(result).to.deep.equal([\n  {\n    input: \&quot;1, 2\&quot;,\n    expectedOutput: \&quot;3\&quot;,\n    actualOutput: 3,\n    message: \&quot;Success\&quot;,\n    passed: true,\n  },\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;896ddacb-fdb2-4a6f-84a8-5725ac61de97&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should handle errors in user code&quot;,&quot;fullTitle&quot;:&quot;Helper Functions testAttempt should handle errors in user code&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const userCode = &#x27;function add(a, b) { throw new Error(\&quot;error\&quot;); }&#x27;;\nconst testCases = [\n  {\n    input: \&quot;1, 2\&quot;,\n    expectedOutput: \&quot;3\&quot;,\n    successMessage: \&quot;Success\&quot;,\n    errorMessage: \&quot;Fail\&quot;,\n  },\n];\nconst result = testAttempt(userCode, testCases);\nexpect(result).to.deep.equal([\n  {\n    input: \&quot;1, 2\&quot;,\n    expectedOutput: \&quot;3\&quot;,\n    actualOutput: \&quot;error\&quot;,\n    message: \&quot;Fail\&quot;,\n    passed: false,\n  },\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;05fece8e-d809-43a7-bca8-19b1c86c73f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;896ddacb-fdb2-4a6f-84a8-5725ac61de97&quot;,&quot;05fece8e-d809-43a7-bca8-19b1c86c73f5&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;82c31181-3e71-47ad-8f5e-70d4da0d3b9d&quot;,&quot;title&quot;:&quot;Controller Functions&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs&quot;,&quot;file&quot;:&quot;/test/attemptController.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook for \&quot;should return attempts for the given username\&quot;&quot;,&quot;fullTitle&quot;:&quot;Controller Functions \&quot;before each\&quot; hook for \&quot;should return attempts for the given username\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Initial mock database\nmockDb = {\n  attempts: JSON.stringify([\n    {\n      username: \&quot;test\&quot;,\n      success: true,\n      message: \&quot;All tests passed\&quot;,\n      attemptId: 1,\n      questionId: 2,\n      generateCode: \&quot;function sum(a, b) { return a + b; }\&quot;,\n      numPassed: 1,\n    },\n    {\n      username: \&quot;testUser\&quot;,\n      success: false,\n      message: \&quot;Tests failed\&quot;,\n      attemptId: \&quot;1\&quot;,\n      questionId: \&quot;1\&quot;,\n      generateCode:\n        \&quot;function twoSum(nums, target) { return `${nums[1]}, ${nums[0]}`; }\&quot;,\n      numPassed: 0,\n    },\n  ]),\n  questions: JSON.stringify([\n    {\n      id: 1,\n      name: \&quot;Two Sum\&quot;,\n      code: \&quot;from typing import List\\n\\ndef twoSum(nums: List[int], target: int) -&gt; List[int]:\\n    numToIndex = {}\\n    for index, num in enumerate(nums):\\n        complement = target - num\\n        if complement in numToIndex:\\n            return [numToIndex[complement], index]\\n        numToIndex[num] = index\\n    return []\\n\\n# Example usage:\\nnums = [2, 7, 11, 15]\\ntarget = 9\\nresult = twoSum(nums, target)\\nprint(result)  # Output: [0, 1]\\n\&quot;,\n    },\n    {\n      id: 2,\n      name: \&quot;Sum Function\&quot;,\n      code: \&quot;function add(a, b) { return a + b; }\&quot;,\n    },\n  ]),\n  attemptTests: JSON.stringify([\n    {\n      id: 1,\n      testCases: [\n        {\n          input: \&quot;1, 2\&quot;,\n          expectedOutput: \&quot;3\&quot;,\n          successMessage: \&quot;Success\&quot;,\n          errorMessage: \&quot;Fail\&quot;,\n        },\n      ],\n    },\n  ]),\n};\n// Stub fs.readFileSync to return the mock database\nsinon.stub(fs, \&quot;readFileSync\&quot;).callsFake((filePath, encoding) =&gt; {\n  if (encoding === \&quot;utf8\&quot;) {\n    if (filePath.includes(\&quot;Attempts.json\&quot;)) {\n      return mockDb.attempts;\n    }\n    if (filePath.includes(\&quot;Questions.json\&quot;)) {\n      return mockDb.questions;\n    }\n    if (filePath.includes(\&quot;Attempt-Tests.json\&quot;)) {\n      return mockDb.attemptTests;\n    }\n  }\n});\n// Stub fs.writeFileSync to update the mock database\nsinon.stub(fs, \&quot;writeFileSync\&quot;).callsFake((filePath, data) =&gt; {\n  if (filePath.includes(\&quot;Attempts.json\&quot;)) {\n    mockDb.attempts = data;\n  }\n});\nreq = {\n  body: {},\n  params: {},\n};\nres = {\n  status: sinon.stub().returnsThis(),\n  json: sinon.stub(),\n};&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;ReferenceError: sinon is not defined&quot;,&quot;estack&quot;:&quot;ReferenceError: sinon is not defined\n    at Context.&lt;anonymous&gt; (file:///Users/timothyfang/Documents/Computer%20Science%20Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs:276:5)\n    at process.processImmediate (node:internal/timers:483:21)&quot;},&quot;uuid&quot;:&quot;0ea33852-5eb6-4196-bd9c-1b578dca537b&quot;,&quot;parentUUID&quot;:&quot;82c31181-3e71-47ad-8f5e-70d4da0d3b9d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook for \&quot;should return attempts for the given username\&quot;&quot;,&quot;fullTitle&quot;:&quot;Controller Functions \&quot;after each\&quot; hook for \&quot;should return attempts for the given username\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;failed&quot;,&quot;pass&quot;:false,&quot;fail&quot;:true,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{&quot;message&quot;:&quot;ReferenceError: sinon is not defined&quot;,&quot;estack&quot;:&quot;ReferenceError: sinon is not defined\n    at Context.&lt;anonymous&gt; (file:///Users/timothyfang/Documents/Computer%20Science%20Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs:308:5)\n    at process.processImmediate (node:internal/timers:483:21)&quot;},&quot;uuid&quot;:&quot;9ec882bf-dc7e-4ce9-b45d-595422b6ca95&quot;,&quot;parentUUID&quot;:&quot;82c31181-3e71-47ad-8f5e-70d4da0d3b9d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;fe58156f-3b25-4406-b84f-dac821c992b5&quot;,&quot;title&quot;:&quot;GetAttemptsByUsername&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs&quot;,&quot;file&quot;:&quot;/test/attemptController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return attempts for the given username&quot;,&quot;fullTitle&quot;:&quot;Controller Functions GetAttemptsByUsername should return attempts for the given username&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;req.params.username = \&quot;testUser\&quot;;\nGetAttemptsByUsername(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(\n  res.json.calledWith(\n    sinon.match({\n      message: \&quot;Attempt retrieved successfully\&quot;,\n      userAttempts: sinon.match.array,\n    })\n  )\n).to.be.true;\nexpect(res.json.args[0][0].userAttempts).to.deep.include({\n  username: \&quot;testUser\&quot;,\n  success: false,\n  message: \&quot;Tests failed\&quot;,\n  attemptId: \&quot;1\&quot;,\n  questionId: \&quot;1\&quot;,\n  generateCode:\n    \&quot;function twoSum(nums, target) { return `${nums[1]}, ${nums[0]}`; }\&quot;,\n  numPassed: 0,\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53d82a18-95af-4754-9dc6-7a7c71a98da5&quot;,&quot;parentUUID&quot;:&quot;fe58156f-3b25-4406-b84f-dac821c992b5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should return an error if no attempts found for the given username&quot;,&quot;fullTitle&quot;:&quot;Controller Functions GetAttemptsByUsername should return an error if no attempts found for the given username&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;req.params.username = \&quot;nonexistentuser\&quot;;\nGetAttemptsByUsername(req, res);\nexpect(res.status.calledWith(400)).to.be.true;\nexpect(res.json.calledWith({ message: \&quot;Attempt not found\&quot; })).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d1807944-6f56-48f8-a7c0-f2a024925048&quot;,&quot;parentUUID&quot;:&quot;fe58156f-3b25-4406-b84f-dac821c992b5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;53d82a18-95af-4754-9dc6-7a7c71a98da5&quot;,&quot;d1807944-6f56-48f8-a7c0-f2a024925048&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2bd89b2a-eb1d-46a3-b5bf-5b4c0dac8d5d&quot;,&quot;title&quot;:&quot;AddAttempt&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/attemptController.test.mjs&quot;,&quot;file&quot;:&quot;/test/attemptController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return an error if description is missing&quot;,&quot;fullTitle&quot;:&quot;Controller Functions AddAttempt should return an error if description is missing&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;req.body = {\n  username: \&quot;newuser\&quot;,\n  questionId: 1,\n};\nreq.params.attemptId = 2;\nawait AddAttempt(req, res);\nexpect(res.status.calledWith(400)).to.be.true;\nexpect(res.json.calledWith({ message: \&quot;Description is required\&quot; })).to.be\n  .true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b96e3cfc-db60-4443-953b-e2589081c1e2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;b96e3cfc-db60-4443-953b-e2589081c1e2&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;667d1d68-6de3-4fa2-879d-b55f40017e72&quot;,&quot;title&quot;:&quot;Question Controller&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/questionController.test.mjs&quot;,&quot;file&quot;:&quot;/test/questionController.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Question Controller\&quot;&quot;,&quot;fullTitle&quot;:&quot;Question Controller \&quot;before each\&quot; hook in \&quot;Question Controller\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Initial mock database\nmockDb = {\n    questions: JSON.stringify([\n        {\n            \&quot;id\&quot;: 1,\n            \&quot;code\&quot;: \&quot;function add(a, b) { return a + b; }\&quot;\n        },\n        {\n            \&quot;id\&quot;: 2,\n            \&quot;code\&quot;: \&quot;function subtract(a, b) { return a - b; }\&quot;\n        }\n    ])\n};\n// Stub fs.readFileSync to return mock database\nsinon.stub(fs, &#x27;readFileSync&#x27;).callsFake((filePath, encoding) =&gt; {\n    if (encoding === &#x27;utf8&#x27;) {\n        if (filePath.includes(&#x27;Questions.json&#x27;)) {\n            return mockDb.questions;\n        }\n    }\n    return undefined;\n});\nreq = {\n    params: {}\n};\nres = {\n    status: sinon.stub().returnsThis(),\n    json: sinon.stub()\n};&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a2e6dea3-cbe8-469e-821f-a8fbbf557c04&quot;,&quot;parentUUID&quot;:&quot;667d1d68-6de3-4fa2-879d-b55f40017e72&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;Question Controller\&quot;&quot;,&quot;fullTitle&quot;:&quot;Question Controller \&quot;after each\&quot; hook in \&quot;Question Controller\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6695dba6-7aae-416b-ac7e-15e6d6f04749&quot;,&quot;parentUUID&quot;:&quot;667d1d68-6de3-4fa2-879d-b55f40017e72&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;a75b4a27-7d9c-4b0a-b4ae-657e814a534c&quot;,&quot;title&quot;:&quot;GetQuestions&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/questionController.test.mjs&quot;,&quot;file&quot;:&quot;/test/questionController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return all available questions&quot;,&quot;fullTitle&quot;:&quot;Question Controller GetQuestions should return all available questions&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;GetQuestions(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith(sinon.match({\n    message: &#x27;Questions retrieved successfully&#x27;,\n    questions: sinon.match.array\n}))).to.be.true;\nexpect(res.json.args[0][0].questions).to.deep.equal(JSON.parse(mockDb.questions));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;434e548e-67ef-458f-8f20-6ebbf68b9c42&quot;,&quot;parentUUID&quot;:&quot;a75b4a27-7d9c-4b0a-b4ae-657e814a534c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;434e548e-67ef-458f-8f20-6ebbf68b9c42&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5d370ce5-77f8-4217-99d7-54d65486ce36&quot;,&quot;title&quot;:&quot;GetQuestionsById&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/questionController.test.mjs&quot;,&quot;file&quot;:&quot;/test/questionController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a specific question by ID&quot;,&quot;fullTitle&quot;:&quot;Question Controller GetQuestionsById should return a specific question by ID&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;req.params.id = 1;\nGetQuestionsById(req, res);\nexpect(res.status.calledWith(200)).to.be.true;\nexpect(res.json.calledWith(sinon.match({\n    message: &#x27;Question retrieved successfully&#x27;,\n    question: sinon.match.object\n}))).to.be.true;\nconst expectedQuestion = {\n    \&quot;id\&quot;: 1,\n    \&quot;code\&quot;: \&quot;function add(a, b) { return a + b; }\&quot;\n};\nexpect(res.json.args[0][0].question).to.deep.equal(expectedQuestion);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1825cb3a-07b6-4e95-bff4-8b3c8ed2dd01&quot;,&quot;parentUUID&quot;:&quot;5d370ce5-77f8-4217-99d7-54d65486ce36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return an error if question ID is not found&quot;,&quot;fullTitle&quot;:&quot;Question Controller GetQuestionsById should return an error if question ID is not found&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;req.params.id = 3;\nGetQuestionsById(req, res);\nexpect(res.status.calledWith(400)).to.be.true;\nexpect(res.json.calledWith({ message: &#x27;Question not found&#x27; })).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cdbfeaff-5aaa-42de-8960-4b8b1251de9b&quot;,&quot;parentUUID&quot;:&quot;5d370ce5-77f8-4217-99d7-54d65486ce36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return an error if question ID is not a valid number&quot;,&quot;fullTitle&quot;:&quot;Question Controller GetQuestionsById should return an error if question ID is not a valid number&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;req.params.id = &#x27;invalid&#x27;;\nGetQuestionsById(req, res);\nexpect(res.status.calledWith(400)).to.be.true;\nexpect(res.json.calledWith({ message: &#x27;Question not found&#x27; })).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;18d40ebc-c4d7-4d31-aa8f-912e6820ef39&quot;,&quot;parentUUID&quot;:&quot;5d370ce5-77f8-4217-99d7-54d65486ce36&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1825cb3a-07b6-4e95-bff4-8b3c8ed2dd01&quot;,&quot;cdbfeaff-5aaa-42de-8960-4b8b1251de9b&quot;,&quot;18d40ebc-c4d7-4d31-aa8f-912e6820ef39&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f1e8d1a7-26a2-4721-9fb2-9867275246ba&quot;,&quot;title&quot;:&quot;userController tests&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/userController.test.mjs&quot;,&quot;file&quot;:&quot;/test/userController.test.mjs&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;userController tests\&quot;&quot;,&quot;fullTitle&quot;:&quot;userController tests \&quot;before each\&quot; hook in \&quot;userController tests\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Initialize mock database\nmockDb = [\n  { username: &#x27;gloria&#x27;, studentId: 123 },\n  { username: &#x27;tim&#x27;, studentId: 456 }\n];\n// Stub fs.readFileSync to return the mock database\nsinon.stub(fs, &#x27;readFileSync&#x27;).callsFake((filePath, encoding) =&gt; {\n  if (encoding === &#x27;utf8&#x27;) {\n    return JSON.stringify(mockDb);\n  }\n});\n// Stub fs.writeFileSync to update the mock database\nsinon.stub(fs, &#x27;writeFileSync&#x27;).callsFake((filePath, data) =&gt; {\n  mockDb = JSON.parse(data);\n});\nreq = {\n  body: {}\n};\nres = {\n  status: sinon.stub().returnsThis(),\n  json: sinon.stub()\n};&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7b79f0b2-1c70-47d0-bab0-c05a990197f5&quot;,&quot;parentUUID&quot;:&quot;f1e8d1a7-26a2-4721-9fb2-9867275246ba&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;userController tests\&quot;&quot;,&quot;fullTitle&quot;:&quot;userController tests \&quot;after each\&quot; hook in \&quot;userController tests\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;sinon.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1e788e3-fc48-4139-80bf-fc1d6f1b35bc&quot;,&quot;parentUUID&quot;:&quot;f1e8d1a7-26a2-4721-9fb2-9867275246ba&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;a40024ef-c254-4365-95d0-09e8cead3ecf&quot;,&quot;title&quot;:&quot;AddStudent&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/userController.test.mjs&quot;,&quot;file&quot;:&quot;/test/userController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;successfully adds a new student&quot;,&quot;fullTitle&quot;:&quot;userController tests AddStudent successfully adds a new student&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Successful case \n     req.body = {\n       username: &#x27;newname&#x27;,\n       studentId: &#x27;789&#x27;\n     };\n     userController.AddStudent(req, res);\n     expect(res.status.calledWith(200)).to.be.true;\n     expect(res.json.calledWith(sinon.match({\n       message: &#x27;User added successfully&#x27;,\n       user: { username: &#x27;newname&#x27;, studentId: &#x27;789&#x27; }\n     }))).to.be.true;\n     expect(mockDb).to.deep.include({ username: &#x27;newname&#x27;, studentId: &#x27;789&#x27; });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;25209542-24d9-42c5-9423-8d76e16766ee&quot;,&quot;parentUUID&quot;:&quot;a40024ef-c254-4365-95d0-09e8cead3ecf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns error if username or studentId is missing&quot;,&quot;fullTitle&quot;:&quot;userController tests AddStudent returns error if username or studentId is missing&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// missing username or student ID, should fail \n     req.body = { username: &#x27;missingId&#x27; };\n     userController.AddStudent(req, res);\n     expect(res.status.calledWith(400)).to.be.true;\n     expect(res.json.calledWith({ message: &#x27;Username or student ID is required&#x27; })).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;78e40809-b35a-4544-8fdd-e76598164573&quot;,&quot;parentUUID&quot;:&quot;a40024ef-c254-4365-95d0-09e8cead3ecf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns error if username or studentId already exists&quot;,&quot;fullTitle&quot;:&quot;userController tests AddStudent returns error if username or studentId already exists&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// username or student ID already exists, should fail \n     req.body = {\n       username: &#x27;gloria&#x27;,\n       studentId: 123\n     };\n     userController.AddStudent(req, res);\n     expect(res.status.calledWith(400)).to.be.true;\n     expect(res.json.calledWith({ message: &#x27;Username or student ID already exists&#x27; })).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ab0fcb4-03c3-4f7d-808b-dcc14a1844f5&quot;,&quot;parentUUID&quot;:&quot;a40024ef-c254-4365-95d0-09e8cead3ecf&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;25209542-24d9-42c5-9423-8d76e16766ee&quot;,&quot;78e40809-b35a-4544-8fdd-e76598164573&quot;,&quot;6ab0fcb4-03c3-4f7d-808b-dcc14a1844f5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;dcb0110a-bc0c-4246-93e3-926868974647&quot;,&quot;title&quot;:&quot;GetStudents&quot;,&quot;fullFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/test/userController.test.mjs&quot;,&quot;file&quot;:&quot;/test/userController.test.mjs&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;returns all registered students&quot;,&quot;fullTitle&quot;:&quot;userController tests GetStudents returns all registered students&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Successful case \n     userController.GetStudents(req, res);\n     expect(res.status.calledWith(200)).to.be.true;\n     expect(res.json.calledWith(sinon.match({\n       message: &#x27;Users retrieved successfully&#x27;,\n       users: mockDb\n     }))).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bab53ef0-31c1-4160-a0bb-33120e569d28&quot;,&quot;parentUUID&quot;:&quot;dcb0110a-bc0c-4246-93e3-926868974647&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;returns an empty array if no users are present&quot;,&quot;fullTitle&quot;:&quot;userController tests GetStudents returns an empty array if no users are present&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// no students to retrieve, should return empty array \n     mockDb = []; \n     userController.GetStudents(req, res);\n     expect(res.status.calledWith(200)).to.be.true;\n     expect(res.json.calledWith(sinon.match({\n       message: &#x27;Users retrieved successfully&#x27;,\n       users: []\n     }))).to.be.true;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d8b80466-d802-462b-8a5d-56a9a7f30539&quot;,&quot;parentUUID&quot;:&quot;dcb0110a-bc0c-4246-93e3-926868974647&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bab53ef0-31c1-4160-a0bb-33120e569d28&quot;,&quot;d8b80466-d802-462b-8a5d-56a9a7f30539&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.7.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;index&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportFilename&quot;:&quot;index&quot;},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;index&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;backend&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/mochawesome-report/index.json&quot;,&quot;htmlFile&quot;:&quot;/Users/timothyfang/Documents/Computer Science Repositories/Project-Groups-20-Lab-C/backend/mochawesome-report/index.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>